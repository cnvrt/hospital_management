<link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<div class="container mt-5 col-md-9"><div class="bd-example">
    <h1>Edit Patient</h1>
    <!--
    <form class="row g-3 needs-validation was-validated" novalidate="">
    </form>-->
    <%= form_with model: @patient, class: "row g-3 needs-validation", novalidate: "", local: true do |form| %>
        <div class="col-md-6 position-relative" bis_skin_checked="1">
        <%= form.label :name, "Patient Name", class: "form-label" %>
        <%= form.text_field :name, class: "form-control", required: "" %>
            <div class="valid-tooltip" bis_skin_checked="1">
                Looks good!
            </div>
            <div class="invalid-tooltip" bis_skin_checked="1">
                Please Enter Name.
            </div>
        </div>

        <div class="col-md-3 position-relative" bis_skin_checked="1">
            <%= form.label :age, class: "form-label" %>
            <div class="input-group has-validation" bis_skin_checked="1">
                <span class="input-group-text" id="validationTooltipUsernamePrepend">@</span>
                <%= form.number_field :age, class: "form-control fage", required: "", min: "3", max: "70" %>
                <div class="invalid-tooltip" bis_skin_checked="1">
                    Enter Patients age.
                </div>
            </div>
        </div>

        <div class="col-md-3 position-relative" bis_skin_checked="1">
            <%= form.label :gender, class: "form-label" %>
            <%= form.select :gender, options_for_select(['Male', 'Female', 'Other']), { prompt: 'Select Gender' }, { class: 'form-select', required: true } %>
            <div class="invalid-tooltip" bis_skin_checked="1">
                Please select.
            </div>
        </div>

        <div class="col-md-12 position-relative" bis_skin_checked="1">
            <div class="input-group">
                <span class="input-group-text">Medical History</span>
                <%= form.text_area :medical_history, class: "form-control", required: "" %>
                <div class="valid-tooltip" bis_skin_checked="1">
                    Looks good!
                </div>
                <div class="invalid-tooltip" bis_skin_checked="1">
                    Please Enter Name.
                </div>
            </div>
        </div>

        <div class="col-12" style="text-align-last: justify;" bis_skin_checked="1">
        <%= link_to 'Cancel', receptionist_path, class: 'btn btn-danger' %>
        <button class="btn btn-primary" type="submit">Update Patient</button>
        </div>
    <% end %></div>
</div>

<script>
function enforceMinMax(el) {
  if (el.value != "") {
    if (parseInt(el.value) < parseInt(el.min)) {
      el.value = el.min;
    }
    if (parseInt(el.value) > parseInt(el.max)) {
      el.value = el.max;
    }
  }
}
$('.fage').keyup(enforceMinMax);
</script>